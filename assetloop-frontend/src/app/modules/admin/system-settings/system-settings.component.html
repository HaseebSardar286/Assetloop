<div class="d-flex flex-column">
  <app-header (logout)="onLogout()"></app-header>
  <div class="d-flex flex-grow-1">
    <app-admin-sidebar></app-admin-sidebar>
    <main class="flex-grow-1 bg-light">
      <section class="dashboard-hero gradient-bg px-4 py-4 py-md-5">
        <div class="container-fluid">
          <div class="badge text-bg-light fw-semibold mb-2">System Settings</div>
          <h2 class="text-white fw-bold mb-1">Platform Configuration</h2>
          <p class="text-white-50 mb-0">
            Manage system-wide settings and preferences
          </p>
        </div>
      </section>

      <section class="container-fluid py-4">
        <form #settingsForm="ngForm" (ngSubmit)="saveSettings(settingsForm)">
          <!-- Success Message -->
          <div *ngIf="success" class="alert alert-success alert-dismissible fade show" role="alert">
            {{ success }}
            <button
              type="button"
              class="btn-close"
              (click)="success = null"
            ></button>
          </div>

          <!-- Error Message -->
          <div *ngIf="error" class="alert alert-danger alert-dismissible fade show" role="alert">
            {{ error }}
            <button
              type="button"
              class="btn-close"
              (click)="error = null"
            ></button>
          </div>

          <!-- General Settings -->
          <div class="card glass-card mb-4">
            <div class="card-header bg-primary text-white">
              <h5 class="mb-0">General Settings</h5>
            </div>
          <div class="card-body">
            <div class="mb-3">
              <label for="platformName" class="form-label">Platform Name</label>
              <input
                type="text"
                class="form-control"
                id="platformName"
                [(ngModel)]="settings.platformName"
                name="platformName"
                required
              />
            </div>
            <div class="mb-3">
              <label for="currency" class="form-label">Currency</label>
              <select
                class="form-select"
                id="currency"
                [(ngModel)]="settings.currency"
                name="currency"
              >
                <option value="PKR">PKR (Pakistani Rupee)</option>
                <option value="USD">USD (US Dollar)</option>
                <option value="EUR">EUR (Euro)</option>
              </select>
            </div>
            <div class="mb-3">
              <label for="timezone" class="form-label">Timezone</label>
              <select
                class="form-select"
                id="timezone"
                [(ngModel)]="settings.timezone"
                name="timezone"
              >
                <option value="Asia/Karachi">Asia/Karachi (PKT)</option>
                <option value="UTC">UTC</option>
                <option value="America/New_York">America/New_York (EST)</option>
              </select>
            </div>
            <!-- <div class="mb-3">
              <label class="form-label">Default Language</label>
              <div class="form-check">
                <input
                  type="radio"
                  class="form-check-input"
                  id="langEn"
                  [(ngModel)]="settings.defaultLanguage"
                  name="defaultLanguage"
                  value="en"
                  checked
                />
                <label class="form-check-label" for="langEn">English</label>
              </div>
              <div class="form-check">
                <input
                  type="radio"
                  class="form-check-input"
                  id="langUr"
                  [(ngModel)]="settings.defaultLanguage"
                  name="defaultLanguage"
                  value="ur"
                />
                <label class="form-check-label" for="langUr">Urdu</label>
              </div>
            </div> -->
            <!-- <div class="mb-3">
              <label class="form-label">Theme</label>
              <div class="form-check">
                <input
                  type="radio"
                  class="form-check-input"
                  id="themeLight"
                  [(ngModel)]="settings.theme"
                  name="theme"
                  value="light"
                  checked
                />
                <label class="form-check-label" for="themeLight">Light</label>
              </div>
              <div class="form-check">
                <input
                  type="radio"
                  class="form-check-input"
                  id="themeDark"
                  [(ngModel)]="settings.theme"
                  name="theme"
                  value="dark"
                />
                <label class="form-check-label" for="themeDark">Dark</label>
              </div>
            </div> -->
          </div>
        </div>

          <!-- Notification Settings -->
          <!-- <div class="card glass-card mb-4">
            <div class="card-header bg-info text-white">
              <h5 class="mb-0">Notification Settings</h5>
            </div>
          <div class="card-body">
            <div class="mb-3">
              <div class="form-check">
                <input
                  type="checkbox"
                  class="form-check-input"
                  id="emailNotifications"
                  [(ngModel)]="settings.emailNotifications"
                  name="emailNotifications"
                />
                <label class="form-check-label" for="emailNotifications"
                  >Enable Email Notifications</label
                >
              </div>
            </div>
            <div class="mb-3">
              <label for="notificationFrequency" class="form-label"
                >Notification Frequency</label
              >
              <select
                class="form-select"
                id="notificationFrequency"
                [(ngModel)]="settings.notificationFrequency"
                name="notificationFrequency"
              >
                <option value="daily">Daily</option>
                <option value="weekly">Weekly</option>
                <option value="instant">Instant</option>
              </select>
            </div>
          </div>
        </div> -->

          <!-- Security Settings -->
          <!-- <div class="card glass-card mb-4">
            <div class="card-header bg-danger text-white">
              <h5 class="mb-0">Security Settings</h5>
            </div>
          <div class="card-body">
            <div class="mb-3">
              <div class="form-check">
                <input
                  type="checkbox"
                  class="form-check-input"
                  id="maintenanceMode"
                  [(ngModel)]="settings.maintenanceMode"
                  name="maintenanceMode"
                />
                <label class="form-check-label" for="maintenanceMode"
                  >Enable Maintenance Mode</label
                >
              </div>
            </div>
            <div class="mb-3">
              <div class="form-check">
                <input
                  type="checkbox"
                  class="form-check-input"
                  id="twoFactorAuth"
                  [(ngModel)]="settings.twoFactorAuth"
                  name="twoFactorAuth"
                />
                <label class="form-check-label" for="twoFactorAuth"
                  >Enable Two-Factor Authentication</label
                >
              </div>
            </div>
            <div class="mb-3">
              <label for="sessionTimeout" class="form-label"
                >Session Timeout (minutes)</label
              >
              <input
                type="range"
                class="form-range"
                id="sessionTimeout"
                min="15"
                max="60"
                [(ngModel)]="settings.sessionTimeout"
                name="sessionTimeout"
              />
              <span>{{ settings.sessionTimeout }} minutes</span>
            </div>
          </div>
        </div> -->

          <!-- Limits Settings -->
          <div class="card glass-card mb-4">
            <div class="card-header bg-success text-white">
              <h5 class="mb-0">Limits Settings</h5>
            </div>
          <div class="card-body">
            <div class="mb-3">
              <label for="maxListingsPerUser" class="form-label"
                >Max Listings per User</label
              >
              <input
                type="number"
                class="form-control"
                id="maxListingsPerUser"
                [(ngModel)]="settings.maxListingsPerUser"
                name="maxListingsPerUser"
                min="1"
                max="50"
              />
            </div>
            <div class="mb-3">
              <label for="maxRequestsPerUser" class="form-label"
                >Max Requests per User</label
              >
              <input
                type="number"
                class="form-control"
                id="maxRequestsPerUser"
                [(ngModel)]="settings.maxRequestsPerUser"
                name="maxRequestsPerUser"
                min="1"
                max="50"
              />
            </div>
          </div>
        </div>

          <!-- File Settings -->
          <div class="card glass-card mb-4">
            <div class="card-header bg-warning text-white">
              <h5 class="mb-0">File Settings</h5>
            </div>
          <div class="card-body">
            <div class="mb-3">
              <label for="allowedFileTypes" class="form-label"
                >Allowed File Types</label
              >
              <input
                type="text"
                class="form-control"
                id="allowedFileTypes"
                [(ngModel)]="settings.allowedFileTypes"
                name="allowedFileTypes"
                placeholder="e.g., jpg,png,pdf"
              />
            </div>
          </div>
        </div>

          <div class="d-flex justify-content-end gap-3 mt-4">
            <!-- Reset to Default Button -->
            <button
              type="button"
              class="btn btn-outline-secondary"
              (click)="resetToDefault()"
            >
              Reset to Default
            </button>

            <!-- Save Button -->
            <button
              type="submit"
              class="btn btn-primary"
              [disabled]="settingsForm.invalid"
            >
              Save Settings
            </button>
          </div>
        </form>
      </section>
    </main>
  </div>
</div>
