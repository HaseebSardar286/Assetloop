<div class="card conversation-card mb-1" (click)="select.emit()">
  <div class="card-body d-flex align-items-center">
    <div class="avatar-placeholder me-3 rounded-circle d-flex align-items-center justify-content-center bg-primary text-white" 
         style="width: 40px; height: 40px; font-weight: bold;">
      {{ (chat.otherUser.name || 'U').charAt(0).toUpperCase() }}
    </div>
    <div class="flex-grow-1">
      <h6 class="mb-0">
        {{ chat.otherUser.role }}: {{ chat.otherUser.name }}
      </h6>
      <p class="text-muted small mb-0">{{ chat.asset.name }}</p>
      <p class="text-muted small mb-0" *ngIf="chat.lastMessage">
        {{ chat.lastMessage.content }}
      </p>
      <small class="text-muted" *ngIf="chat.lastMessage">
        {{ formatTimestamp(chat.lastMessage.timestamp) }}
      </small>
      <span *ngIf="chat.unreadCount > 0" class="badge bg-danger ms-2">{{
        chat.unreadCount
      }}</span>
    </div>
  </div>
</div>
